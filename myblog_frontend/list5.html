<!DOCTYPE html>
<html x-data="main" class :class="[$store.app.mode]">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Premium Tailwind CSS Admin & Dashboard Template" />
    <meta name="author" content="SRBThemes" />

    <title>MyBlog - Tailwind CSS Admin & Dashboard Template</title>

    

    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/perfect-scrollbar.min.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />
	 <title>Add New</title>
	    <style>
			.modal {
				display: none;
				position: fixed;
				z-index: 1;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				overflow: auto;
				background-color: rgb(0, 0, 0);
				background-color: rgba(0, 0, 0, 0.4);
			}

			.modal-content {
				background-color: #fefefe;
				margin: 15% auto;
				padding: 20px;
				border-radius: 10px; /* 圆边框 */
				width: 50%;
				height: 50%;
			}

			.close {
				color: #aaa;
				float: right;
				font-size: 28px;
				font-weight: bold;
			}

			.close:hover,
			.close:focus {
				color: black;
				text-decoration: none;
				cursor: pointer;
			}
			.text-input {
			            width: 100%;
						height: 80%;
			            padding: 10px;
			            border: 1px solid #ccc;
			            border-radius: 5px; /* 圆边框 */
			            margin-bottom: 10px;
			        }
			.blue-button {
					/* text-decoration-color: black; */
			        display: inline-block;
			        padding: 10px 20px;
			        border: none;
			        border-radius: 5px;
			        background-color: #e0e7ff; /* 修改为你想要的淡蓝色 */
			        color: black;
			        font-size: 16px;
			        text-align: center;
			        text-decoration: none;
			        cursor: pointer;
			        transition: background-color 0.3s ease;
			    }
			
			    .blue-button:hover {
			        background-color: #4f46e5; /* 修改为你想要的深蓝色 */
			    }
	    </style>
</head>
<body x-data="main" class="collapse-menu overflow-x-hidden bg-lightwhite font-public text-base font-normal text-slate-600 antialiased dark:bg-darkblue dark:text-indigo-300" :class="[ $store.app.sidebar ? 'toggle-sidebar' : '', $store.app.fullscreen ? '' : '']">

    <div x-cloak class="fixed inset-0 z-40 bg-slate-800/50 lg:hidden" :class="{'hidden' : !$store.app.sidebar}" @click="$store.app.toggleSidebar()"></div>


    <div>
        <div class="flex min-h-screen w-full items-stretch">

            <nav class="sidebar">
                <div class="brand-logo">
                    <a href="list.html" class="flex items-center">
                        <div class="block min-h-[1px] shrink-0 grow-0 overflow-hidden leading-none">
                            <svg width="42" height="35" viewbox="0 0 42 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M36.5688 1.64243L36.3926 1.42819C36.0453 1.00627 35.6135 0.661729 35.125 0.416736C34.6365 0.171743 34.1022 0.031728 33.5563 0.00568853C33.0105 -0.0203509 32.4652 0.0681618 31.9556 0.265543C31.446 0.462925 30.9834 0.764794 30.5975 1.15173L30.0792 1.66662L28.1544 3.59484C30.1725 2.98666 31.9867 3.41861 32.9923 4.51403C33.0959 4.64188 33.2031 4.76628 33.3033 4.90105C35.075 7.27331 36.1518 10.0917 36.4132 13.041C36.6746 15.9902 36.1103 18.9541 34.7835 21.601C33.4567 24.2479 31.4197 26.4735 28.9003 28.0288C26.3809 29.5841 23.4784 30.4079 20.5176 30.4079C17.5568 30.4079 14.6543 29.5841 12.1349 28.0288C9.61545 26.4735 7.57842 24.2479 6.25161 21.601C4.92481 18.9541 4.36057 15.9902 4.622 13.041C4.88342 10.0917 5.9602 7.27331 7.7319 4.90105C7.83211 4.76628 7.94268 4.63843 8.04635 4.50712C9.08303 3.41861 10.8765 2.98666 12.8842 3.59484L10.9594 1.66662L10.4687 1.15173C10.0833 0.764958 9.62133 0.463068 9.11235 0.265448C8.60336 0.067829 8.05868 -0.0211498 7.51327 0.00423323C6.96786 0.0296162 6.43379 0.168796 5.94537 0.412834C5.45694 0.656872 5.02494 1.00037 4.67715 1.42127L4.49745 1.64243C2.08193 4.6628 0.568539 8.30397 0.131521 12.1467C-0.305497 15.9894 0.351646 19.8774 2.02727 23.363C3.70289 26.8487 6.32885 29.7902 9.60282 31.849C12.8768 33.9077 16.6657 35 20.5331 35C24.4006 35 28.1895 33.9077 31.4634 31.849C34.7374 29.7902 37.3634 26.8487 39.039 23.363C40.7146 19.8774 41.3718 15.9894 40.9347 12.1467C40.4977 8.30397 38.9843 4.6628 36.5688 1.64243Z" fill="url(#paint0_linear_39_54)" />
                                <path d="M31.3439 13.661C31.3439 11.9609 30.8118 11.5151 31.3716 9.65253C31.3716 9.65253 30.5975 10.4197 30.5975 10.4162L29.9617 11.059C29.7683 11.2605 29.6275 11.5064 29.5516 11.7752C29.4757 12.0439 29.467 12.3272 29.5263 12.6001C29.6473 13.2043 29.7086 13.8189 29.7094 14.4351C29.7097 15.7187 29.4407 16.9882 28.9196 18.1613C28.3985 19.3345 27.6371 20.3852 26.6845 21.2457C25.7319 22.1061 24.6093 22.757 23.3893 23.1564C22.1694 23.5558 20.8792 23.6947 19.6022 23.5642C18.3252 23.4337 17.0897 23.0367 15.9758 22.3988C14.8618 21.761 13.8941 20.8964 13.1352 19.8611C12.3763 18.8258 11.8431 17.6427 11.5701 16.3884C11.2971 15.1341 11.2904 13.8365 11.5503 12.5794C11.6101 12.313 11.6022 12.0359 11.5274 11.7733C11.4525 11.5107 11.3131 11.2711 11.1218 11.0762L10.4687 10.437L9.69812 9.66635C10.2545 11.5289 9.6981 11.9747 9.72575 13.6748C9.70847 13.9306 9.69812 14.1897 9.69812 14.4523C9.74884 17.2925 10.9127 19.9991 12.9391 21.9897C14.9655 23.9802 17.6926 25.0956 20.5331 25.0956C23.3737 25.0956 26.1007 23.9802 28.1271 21.9897C30.1536 19.9991 31.3174 17.2925 31.3681 14.4523C31.3681 14.1897 31.3681 13.9306 31.337 13.6748L31.3439 13.661Z" fill="#7B3AED" />
                                <path d="M31.3232 6.88801C30.2658 7.54457 29.1739 7.77609 28.4482 7.04696C28.2685 6.85345 28.0819 6.6634 27.8849 6.48371C27.5153 6.14767 27.0304 5.96699 26.531 5.97922C26.0316 5.99145 25.5561 6.19564 25.2034 6.54937L21.8031 9.94967C21.0255 10.7551 20.5738 11.8199 20.5349 12.9388C20.496 11.8199 20.0442 10.7551 19.2667 9.94967L15.8733 6.55282C15.5204 6.19808 15.0442 5.99326 14.544 5.98102C14.0438 5.96879 13.5581 6.1501 13.1883 6.48716C12.9913 6.66685 12.8047 6.85691 12.625 7.05388C11.8959 7.78301 10.8039 7.55149 9.74652 6.89493L11.3326 8.48104L11.4363 8.58471L12.6458 9.7907L16.8409 13.9893C18.4304 15.5823 20.0546 17.4068 20.5349 19.3523C21.0152 17.4068 22.6393 15.5823 24.2324 13.9893L28.4378 9.78034L28.6728 9.54536L29.744 8.47413L31.3232 6.88801Z" fill="url(#paint1_linear_39_54)" />
                                <defs>
                                    <lineargradient id="paint0_linear_39_54" x1="38.0882" y1="9.72784e-08" x2="6.86275" y2="30.8824" gradientunits="userSpaceOnUse">
                                        <stop stop-color="#7B3AED" />
                                        <stop offset="1" stop-color="#4F46E5" />
                                    </lineargradient>
                                    <lineargradient id="paint1_linear_39_54" x1="36.0294" y1="-0.686275" x2="5.49023" y2="29.1667" gradientunits="userSpaceOnUse">
                                        <stop stop-color="#7B3AED" />
                                        <stop offset="1" stop-color="#4F46E5" />
                                    </lineargradient>
                                </defs>
                            </svg>
                        </div>
                        <p class="ml-2 shrink-0 text-2xl font-bold -tracking-[0.5px] text-slate-600 opacity-100 transition-opacity duration-1000 dark:text-indigo-100">MyBlog</p>
                    </a>
                </div>

                <ul class="perfect-scrollbar menu-sidebar py-1" x-data="{ activeMenu: 'invoice' }">
                    <li class="menu-item" :class="{'active' : activeMenu === 'blog'}">
                        <a href="list.html" class="menu-link" @click="activeMenu === 'blog' ? activeMenu = null : activeMenu = 'blog'">
                            <svg xmlns="http://www.w3.org/2000/svg" class="menu-icon" width="20" height="20" fill="currentcolor" viewbox="0 0 256 256">
                                <path d="M216,80H184V48a16,16,0,0,0-16-16H40A16,16,0,0,0,24,48V176a8,8,0,0,0,13,6.22L72,154V184a16,16,0,0,0,16,16h93.59L219,230.22a8,8,0,0,0,5,1.78,8,8,0,0,0,8-8V96A16,16,0,0,0,216,80ZM66.55,137.78,40,159.25V48H168v88H71.58A8,8,0,0,0,66.55,137.78ZM216,207.25l-26.55-21.47a8,8,0,0,0-5-1.78H88V152h80a16,16,0,0,0,16-16V96h32Z"></path>
                            </svg>
                            <p>博客管理</p>
                        </a>
                    </li>

                    <li class="menu-item" :class="{'active' : activeMenu === 'files'}">
                        <a href="javascript:void(0);" class="menu-link menu-toggle" @click="activeMenu === 'files' ? activeMenu = null : activeMenu = 'files'">
                            <svg xmlns="http://www.w3.org/2000/svg" class="menu-icon" width="20" height="20" fill="currentcolor" viewbox="0 0 256 256">
                                <path d="M184,112a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h64A8,8,0,0,1,184,112Zm-8,24H112a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm48-88V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM48,208H72V48H48Zm160,0V48H88V208H208Z"></path>
                            </svg>
                            <p>文件</p>
                        </a>
                        <ul class="menu-sub" x-cloak x-show="activeMenu === 'files'" x-collapse>
                            <li class="menu-item active">
                                <a href="list2.html" class="menu-link">
                                    <p>文件管理</p>
                                </a>
                            </li>
                            <li class="menu-item">
                                <a href="file-upload.html" class="menu-link">
                                    <p>文件上传</p>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="menu-item" :class="{'active' : activeMenu === 'pictures'}">
                        <a href="list2.html" class="menu-link" @click="activeMenu === 'pictures' ? activeMenu = null : activeMenu = 'pictures'">
                            <svg xmlns="http://www.w3.org/2000/svg" class="menu-icon" width="20" height="20" fill="currentcolor" viewbox="0 0 256 256">
                                <path d="M216,80H184V48a16,16,0,0,0-16-16H40A16,16,0,0,0,24,48V176a8,8,0,0,0,13,6.22L72,154V184a16,16,0,0,0,16,16h93.59L219,230.22a8,8,0,0,0,5,1.78,8,8,0,0,0,8-8V96A16,16,0,0,0,216,80ZM66.55,137.78,40,159.25V48H168v88H71.58A8,8,0,0,0,66.55,137.78ZM216,207.25l-26.55-21.47a8,8,0,0,0-5-1.78H88V152h80a16,16,0,0,0,16-16V96h32Z"></path>
                            </svg>
                            <p>相册管理</p>
                        </a>
                    </li>
                
					<li class="menu-item" :class="{'active' : activeMenu === 'setting'}">
						<a href="numbered.html" class="menu-link" @click="activeMenu === 'setting' ? activeMenu = null : activeMenu = 'setting'">
							<svg xmlns="http://www.w3.org/2000/svg" class="menu-icon" width="20" height="20" fill="currentcolor" viewbox="0 0 256 256">
								<path d="M216,80H184V48a16,16,0,0,0-16-16H40A16,16,0,0,0,24,48V176a8,8,0,0,0,13,6.22L72,154V184a16,16,0,0,0,16,16h93.59L219,230.22a8,8,0,0,0,5,1.78,8,8,0,0,0,8-8V96A16,16,0,0,0,216,80ZM66.55,137.78,40,159.25V48H168v88H71.58A8,8,0,0,0,66.55,137.78ZM216,207.25l-26.55-21.47a8,8,0,0,0-5-1.78H88V152h80a16,16,0,0,0,16-16V96h32Z"></path>
							</svg>
							<p>个人设置</p>
						</a>
					</li>
					
					<li class="menu-item" :class="{'active' : activeMenu === 'manager'}">
					    <a href="javascript:void(0);" class="menu-link menu-toggle" @click="activeMenu === 'manager' ? activeMenu = null : activeMenu = 'manager'">
					        <svg xmlns="http://www.w3.org/2000/svg" class="menu-icon" width="20" height="20" fill="currentcolor" viewbox="0 0 256 256">
					            <path d="M184,112a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h64A8,8,0,0,1,184,112Zm-8,24H112a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm48-88V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM48,208H72V48H48Zm160,0V48H88V208H208Z"></path>
					        </svg>
					        <p>管理员</p>
					    </a>
					    <ul class="menu-sub" x-cloak x-show="activeMenu === 'manager'" x-collapse>
					        <li class="menu-item">
					            <a href="list3.html" class="menu-link">
					                <p>用户管理</p>
					            </a>
					        </li>
					        <li class="menu-item active">
					            <a href="list5.html" class="menu-link" >
					                <p>公告编辑</p>
					            </a>
					        </li>
							<li class="menu-item">
							    <a href="list4.html" class="menu-link">
							        <p>博客管理</p>
							    </a>
							</li>
					    </ul>
					</li>
                </ul>
            </nav>


            <div class="main-content space-y-6 pt-2">

                <div id="header"></div> <!-- 容器用于装载组件 -->
                <script>
                    // 动态加载HTML组件
                    fetch('header.html')
                        .then(response => response.text())
                        .then(html => {
                            document.getElementById('header').innerHTML = html;
                            // 需要执行的script文件名为'header.js'
                            const script = document.createElement('script');
                            script.src = 'header.js';
                            document.body.appendChild(script);
                        });
                    // document.addEventListener('DOMContentLoaded', loadUserInfo);
                    function logout() {
                        fetch('http://localhost:8080/api/user/logout', {
                            method: 'POST',
                            credentials: 'include'
                        })
                            .then(response => response.json())
                            .then(data => {
                                if (data.code === 0) {
                                    sessionStorage.removeItem('user');
                                    window.location.href = 'index.html';
                                } else {
                                    alert(data.message);
                                }
                            })
                            .catch((error) => {
                                console.error('Error:', error);
                            });
                    }
                </script>

                <div class="min-h-[calc(100vh-152px)] space-y-6 text-[15px]">
                    <div class="grid grid-cols-1 mb-6">
                        <div class="rounded-lg bg-white shadow-3xl dark:bg-lightblue dark:shadow-black/10">
                            <div class="px-6 py-4 border-b border-gray-300 dark:border-white/10 flex flex-wrap items-center justify-between gap-3">
                                <div class="flex items-center flex-none gap-3">
                                    <select class="form-select w-20">
                                        <option selected>10</option>
                                        <option>15</option>
                                        <option>50</option>
                                        <option>100</option>
                                    </select>
                                    <!-- <a href="" type="button" class="btn gap-1 border-indigo-100 bg-indigo-100 text-indigo-600 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
                                            <path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"></path>
                                        </svg>Add New
                                    </a> -->
									<a href="#" type="button" class="btn gap-1 border-indigo-100 bg-indigo-100 text-indigo-600 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white" onclick="openModal()">
									        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256">
									            <path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"></path>
									        </svg>Add New
									    </a>
									
									    <div id="myModal" class="modal">
									        <div class="modal-content">
									            <span class="close" onclick="closeModal()">&times;</span>
									            <h3>公告发布</h3>
									            <textarea id="textInput" type="text" class="text-input" ></textarea>
									            <!-- <button class="submit-btn" onclick="submitForm()">Submit</button> -->
												<!-- <a href=""  onclick="submitForm()" type="button" class="btn gap-1 border-indigo-100 bg-indigo-100 text-indigo-600 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white">
												    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
												        <path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"></path>
												    </svg>Submit
												</a> -->
												<button class="blue-button" onclick="submitForm()" >submit</button>
									        </div>
									    </div>
                                </div>
                                <input type="text" class="form-input max-w-[16rem]" placeholder="Search...">
                            </div>
                            <div class="table-responsive">
                                <table class="min-w-[1200px]">
                                    <thead>
                                        <tr class="bg-gray-50 dark:bg-white/5 border-b border-gray-300 dark:border-white/10 text-sm">
                                            <th>#ID</th>
											<th>#UserID</th>
                                            <th> content</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                            <div class="px-3 sm:px-6 py-4 flex flex-wrap items-center justify-between gap-3">
                                <p class="text-gray-400">Showing 1 to 10 of 50 entries</p>
                                <ul class="sm:ml-auto inline-flex items-center space-x-1 text-xs">
                                    <li><button type="button" class="flex justify-center rounded bg-slate-200 px-2.5 py-2 text-slate-600 transition hover:bg-slate-300 dark:bg-slate-950/10 dark:text-white/60 dark:hover:bg-slate-950/50">Prev</button></li>
                                    <li><button type="button" class="flex justify-center rounded bg-indigo-600 px-2.5 py-2 text-white transition dark:bg-lightindigo dark:text-white">1</button></li>
                                    <li><button type="button" class="flex justify-center rounded bg-slate-200 px-2.5 py-2 text-slate-600 transition hover:bg-slate-300 dark:bg-slate-950/10 dark:text-white/60 dark:hover:bg-slate-950/50">2</button></li>
                                    <li><button type="button" class="flex justify-center rounded bg-slate-200 px-2.5 py-2 text-slate-600 transition hover:bg-slate-300 dark:bg-slate-950/10 dark:text-white/60 dark:hover:bg-slate-950/50">3</button></li>
                                    <li><button type="button" class="flex justify-center rounded bg-slate-200 px-2.5 py-2 text-slate-600 transition hover:bg-slate-300 dark:bg-slate-950/10 dark:text-white/60 dark:hover:bg-slate-950/50">4</button></li>
                                    <li><button type="button" class="flex justify-center rounded bg-slate-200 px-2.5 py-2 text-slate-600 transition hover:bg-slate-300 dark:bg-slate-950/10 dark:text-white/60 dark:hover:bg-slate-950/50">5</button></li>
                                    <li><button type="button" class="flex justify-center rounded bg-slate-200 px-2.5 py-2 text-slate-600 transition hover:bg-slate-300 dark:bg-slate-950/10 dark:text-white/60 dark:hover:bg-slate-950/50">Next</button></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
							<div id="myModalUpdate" class="modal">
								<div class="modal-content">
									<span class="close" onclick="closeUpdateModel()">&times;</span>
									<h3>公告发布</h3>
									<textarea id="textInputUpdate" type="text" class="text-input" ></textarea>
									<!-- <button class="submit-btn" onclick="submitForm()">Submit</button> -->
									<!-- <a href=""  onclick="submitForm()" type="button" class="btn gap-1 border-indigo-100 bg-indigo-100 text-indigo-600 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
											<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"></path>
										</svg>Submit
									</a> -->
									<button class="blue-button" onclick="submitUpdateForm()" >submit</button>
								</div>
							</div>

            </div>

        </div>
    </div>



    <script src="assets/js/alpine-collaspe.min.js"></script>
    <script src="assets/js/alpine-persist.min.js"></script>
    <script src="assets/js/alpine.min.js" defer></script>

    <script src="assets/js/perfect-scrollbar.min.js"></script>

    <script src="assets/js/custom.js"></script>
	 <script>
	        function openModal() {
	            document.getElementById("myModal").style.display = "block";
	        }
	
	        function closeModal() {
	            document.getElementById("myModal").style.display = "none";
	        }
			function closeUpdateModel(){
				document.getElementById("myModalUpdate").style.display = "none";
			}
	
	        function submitForm() {
	            // var inputText = document.querySelector("#myModal #textInput").value;
	            // alert("Submitted: " + inputText);
	            // closeModal();
				var inputText = document.querySelector("#myModal #textInput").value;
				
				fetch('http://localhost:8080/api/announcement/create', {
				    method: 'POST',
				    headers: {
				        'Content-Type': 'application/json',
				    },
				    body: JSON.stringify({ content:inputText}),
				    credentials: 'include'
				})
				    .then(response => response.json())
				    .then(data => {
						// console.log(data);
				        if (data.code === 0) {
				            // alert("addAnnoucement successful! ");
							
						// 	var table = document.querySelector(".table-responsive table");
						
						// 	var newRow = document.createElement("tr");
						
						// 	// 创建第一个单元格
						// 	var idCell = document.createElement("td");
						// 	idCell.textContent = data.data;
						// 	newRow.appendChild(idCell);
							
							
						
						// 	// 创建第二个单元格
						// 	var contentCell = document.createElement("td");
						// 	contentCell.textContent = inputText;
						// 	newRow.appendChild(contentCell);
						
						// 	// 创建第三个单元格
						// 	var actionsCell = document.createElement("td");
						// 	actionsCell.innerHTML = `
						// 		<div class="text-center space-x-3 flex items-center">
						// 			<button type="button" aria-label="Edit" class="hover:text-indigo-600 transition-all duration-300">
						// 				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
						// 					<path d="M229.66,58.34l-32-32a8,8,0,0,0-11.32,0l-96,96A8,8,0,0,0,88,128v32a8,8,0,0,0,8,8h32a8,8,0,0,0,5.66-2.34l96-96A8,8,0,0,0,229.66,58.34ZM124.69,152H104V131.31l64-64L188.69,88ZM200,76.69,179.31,56,192,43.31,212.69,64ZM224,120v88a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h88a8,8,0,0,1,0,16H48V208H208V120a8,8,0,0,1,16,0Z"></path>
						// 				</svg>
						// 			</button>
						// 			<button type="button" aria-label="Delete" class="hover:text-red-600 transition-all duration-300">
						// 				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
						// 					<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"></path>
						// 				</svg>
						// 			</button>
						// 		</div>
						// 	`;
						// 	newRow.appendChild(actionsCell);
						// 	console.log(actionsCell);
						
						// 	var tbody = table.querySelector("tbody");
						
						// 	tbody.appendChild(newRow);
						location.reload();
				        } else {
				            alert(data.message);
				        }
				    })
				    .catch((error) => {
				        console.error('Error:', error);
				    });				
					closeModal();
	        }
			
			function showAnnouncement(){
				
				fetch('http://localhost:8080/api/announcement/getAll')
				  .then(response => response.json())
				  .then(data => {
					const announcementList = data.data;
					announcementList.forEach(announcement => {
				      const id = announcement.id;
					  const userId = announcement.userId;
				      const content = announcement.content;
				    
					var table = document.querySelector(".table-responsive table");
				      var newRow = document.createElement("tr");
				      						
				      // 创建第一个单元格
				      var idCell = document.createElement("td");
				      idCell.textContent = id;
					  idCell.classList.add("idValue");
				      newRow.appendChild(idCell);
					  
					  var userIdCell = document.createElement("td");
					  userIdCell.textContent = userId;
					  userIdCell.classList.add("userIdValue");
					  newRow.appendChild(userIdCell);
				      						
				      // 创建第二个单元格
				      var contentCell = document.createElement("td");
				      contentCell.textContent = content;
					  contentCell.classList.add("contentCell");
				      newRow.appendChild(contentCell);
				      						
				      // 创建第三个单元格
				      var actionsCell = document.createElement("td");
				      actionsCell.innerHTML = `
				      	<div class="text-center space-x-3 flex items-center">
				      		<button onclick="updateAnnoucement(event)" type="button" aria-label="Edit" class="hover:text-indigo-600 transition-all duration-300">
				      			<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
				      				<path d="M229.66,58.34l-32-32a8,8,0,0,0-11.32,0l-96,96A8,8,0,0,0,88,128v32a8,8,0,0,0,8,8h32a8,8,0,0,0,5.66-2.34l96-96A8,8,0,0,0,229.66,58.34ZM124.69,152H104V131.31l64-64L188.69,88ZM200,76.69,179.31,56,192,43.31,212.69,64ZM224,120v88a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h88a8,8,0,0,1,0,16H48V208H208V120a8,8,0,0,1,16,0Z"></path>
				      			</svg>
				      		</button>
				      		<button type="button" onclick="deleteAnnoucement()" aria-label="Delete" class="hover:text-red-600 transition-all duration-300">
				      			<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewbox="0 0 256 256">
				      				<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"></path>
				      			</svg>
				      		</button>
				      	</div>
				      `;
				      newRow.appendChild(actionsCell);
					  console.log(newRow);
					  var tbody = table.querySelector("tbody");
					  						
					  tbody.appendChild(newRow);
				    });
				  })
				  .catch(error => {
				    // 处理请求错误
				    console.error('Error:', error);
				  });
			}
			
			var idValue = null;
			function updateAnnoucement(event){
				var button = event.target;

				// 获取父元素的单元格
				var parentCell = button.parentNode.parentNode.parentNode.parentNode.parentNode;
				console.log(parentCell);

				// 获取单元格中的内容元素
				var contentElement = parentCell.querySelector(".contentCell");
				var idElement =  parentCell.querySelector(".idValue");
				// 获取内容的值
				var contentValue = contentElement.textContent;
				idValue = idElement.textContent;
				var textArea = document.getElementById("textInputUpdate");
				textArea.value = contentValue;
				// 在控制台打印内容值
				console.log("Content value:", contentValue);
				document.getElementById("myModalUpdate").style.display = "block";
		
			}
			
			function submitUpdateForm(){
				var inputText = document.querySelector("#myModalUpdate #textInputUpdate").value;
				fetch('http://localhost:8080/api/announcement/update', {
				    method: 'POST',
				    headers: {
				        'Content-Type': 'application/json',
				    },
				    body: JSON.stringify({ id:idValue,content:inputText}),
				    credentials: 'include'
				})
				    .then(response => response.json())
				    .then(data => {
				        if (data.code === 0) {
				            // alert("updateAnnoucement successful! ");
							// showAnnouncement();
							location.reload();
							closeUpdateModel();
							
				        } else {
				            alert(data.message);
				        }
				    })
				    .catch((error) => {
				        console.error('Error:', error);
				    });				
					closeModal();
			}
			
			function deleteAnnoucement(){
				var button = event.target;
				
				// 获取父元素的单元格
				var parentCell = button.parentNode.parentNode.parentNode.parentNode.parentNode;
				console.log(parentCell);
				
				// 获取单元格中的内容元素
				var idElement =  parentCell.querySelector(".idValue");
				// 获取内容的值
				idValue = idElement.textContent;
				fetch('http://localhost:8080/api/announcement/delete', {
					    method: 'POST',
					    headers: {
					        'Content-Type': 'application/json',
					    },
					    body: JSON.stringify({ id:idValue}),
					    credentials: 'include'
					})
					    .then(response => response.json())
					    .then(data => {
					        if (data.code === 0) {
					            // alert("deleteAnnoucement successful! ");
								// showAnnouncement();
								location.reload();
								closeUpdateModel();
								
					        } else {
					            alert(data.message);
					        }
					    })
					    .catch((error) => {
					        console.error('Error:', error);
					    });				
			}
			
			window.onload = function() {
			  // 在页面加载完成后执行的代码
			  showAnnouncement(); // 替换为您要执行的函数
			};
			// document.addEventListener('DOMContentLoaded',showAnnouncement());
	    </script>
</body>
</html>
